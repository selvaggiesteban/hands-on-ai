{
  "description": "Context window limits and management strategies for different AI models",
  "models": {
    "gpt-4-turbo": {
      "context_window": 128000,
      "recommended_max_context": 100000,
      "optimal_range": {
        "min": 2000,
        "max": 80000
      },
      "supports_caching": false,
      "cost_efficiency": "medium"
    },
    "gpt-4": {
      "context_window": 8192,
      "recommended_max_context": 6500,
      "optimal_range": {
        "min": 1000,
        "max": 5000
      },
      "supports_caching": false,
      "cost_efficiency": "low"
    },
    "gpt-3.5-turbo": {
      "context_window": 16385,
      "recommended_max_context": 14000,
      "optimal_range": {
        "min": 1000,
        "max": 10000
      },
      "supports_caching": false,
      "cost_efficiency": "high"
    },
    "claude-3.5-sonnet": {
      "context_window": 200000,
      "recommended_max_context": 180000,
      "optimal_range": {
        "min": 5000,
        "max": 150000
      },
      "supports_caching": true,
      "cache_ttl_minutes": 300,
      "cost_efficiency": "high",
      "notes": "Supports prompt caching - mark static content as cacheable to save 90% on repeated context"
    },
    "claude-3-opus": {
      "context_window": 200000,
      "recommended_max_context": 180000,
      "optimal_range": {
        "min": 5000,
        "max": 150000
      },
      "supports_caching": true,
      "cache_ttl_minutes": 300,
      "cost_efficiency": "medium"
    },
    "claude-3-haiku": {
      "context_window": 200000,
      "recommended_max_context": 180000,
      "optimal_range": {
        "min": 2000,
        "max": 100000
      },
      "supports_caching": true,
      "cache_ttl_minutes": 300,
      "cost_efficiency": "very_high"
    },
    "mixtral-8x7b": {
      "context_window": 32768,
      "recommended_max_context": 28000,
      "optimal_range": {
        "min": 2000,
        "max": 20000
      },
      "supports_caching": false,
      "cost_efficiency": "very_high"
    }
  },
  "context_management_strategies": {
    "hierarchical": {
      "description": "Build context hierarchically - high-level overview first, then drill down into specifics",
      "use_when": "Working with large codebases or complex planning documents",
      "layers": [
        "project_overview",
        "module_structure",
        "specific_implementation"
      ]
    },
    "flat": {
      "description": "Include all relevant context in a single flat structure",
      "use_when": "Simple tasks with limited context requirements",
      "max_recommended_tokens": 5000
    },
    "hybrid": {
      "description": "Combine hierarchical overview with detailed flat context for relevant sections",
      "use_when": "Medium complexity tasks requiring both broad and deep context",
      "strategy": "overview + focused_details"
    },
    "rag_based": {
      "description": "Retrieve only relevant context using RAG/vector search",
      "use_when": "Large knowledge bases where most context is irrelevant to current task",
      "retrieval_count": 5,
      "chunk_size": 1000
    }
  },
  "context_optimization": {
    "enable_compression": true,
    "remove_comments": false,
    "remove_whitespace": false,
    "summarize_large_sections": true,
    "summary_threshold_tokens": 10000,
    "use_references_instead_of_full_text": true,
    "cache_static_context": true,
    "priority_context_first": true
  },
  "context_allocation": {
    "planning_documents": {
      "max_tokens": 8000,
      "priority": "high",
      "always_include": ["project_overview", "tech_stack", "current_phase"]
    },
    "knowledge_base": {
      "max_tokens": 3000,
      "priority": "medium",
      "retrieval_strategy": "rag_based"
    },
    "existing_code": {
      "max_tokens": 5000,
      "priority": "high",
      "include_strategy": "referenced_files_only"
    },
    "conversation_history": {
      "max_tokens": 2000,
      "priority": "medium",
      "keep_recent_messages": 10
    },
    "task_specific": {
      "max_tokens": 4000,
      "priority": "high",
      "description": "Context specific to current task"
    }
  },
  "caching_strategy": {
    "cacheable_content_types": [
      "project_overview",
      "planning_documents",
      "technology_documentation",
      "coding_standards",
      "security_policies"
    ],
    "cache_invalidation_triggers": [
      "file_modification",
      "planning_update",
      "dependency_change"
    ],
    "cache_warming": {
      "enabled": true,
      "warm_on_startup": true,
      "preload_common_contexts": ["plan.json", "product-overview.json", "kb_index.json"]
    }
  }
}
